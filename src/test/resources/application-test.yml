server:
  shutdown: immediate

management.endpoint:
  health.cache.time-to-live: 0
  info.cache.time-to-live: 0

hmpps-auth:
  url: "http://localhost:8090/auth"


spring:
  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
    username: testuser
    password: testpass
    driver-class-name: org.h2.Driver

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: false

aws:
  s3:
    endpoint: http://host.docker.internal:4566
  sns:
    endpoint: http://localstack:4566
  credentials:
    accessKey: test
    secretKey: test
  region: eu-west-2
  topic-arn:
    events: "arn:aws:sns:eu-west-2:000000000000:person-id-topic"
    file-upload: "arn:aws:sns:eu-west-2:000000000000:file-upload-topic"

hmpps:
  sqs:
    provider: localstack
    queues:
      fileuploadqueue:
        queueName: file-upload-queue
        dlqName: file-upload-dlq
        subscribeTopicId: fileuploadtopic
      personidqueue:
        queueName: person-id-queue
        dlqName: person-id-dlq
        subscribeTopicId: personidtopic
    topics:
      fileuploadtopic:
        arn: arn:aws:sns:eu-west-2:000000000000:file-upload-topic
      personidtopic:
        arn: arn:aws:sns:eu-west-2:000000000000:person-id-topic